// This is your Prisma schema file

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model GuestbookEntry {
  id          String   @id @default(cuid())
  message     String
  ipAddress   String?
  fingerprint String?
  createdAt   DateTime @default(now())

  @@map("guestbook_entries")
  @@index([ipAddress])
  @@index([fingerprint])
}

model MacStatus {
  id                    String   @id @default(cuid())
  deviceId              String
  hostname              String?
  osVersion             String?
  hardwareModel         String?
  cpuCount              Int?
  cpuUsagePercent       Float?
  totalMemory           BigInt?
  memoryUsed            BigInt?
  memoryFree            BigInt?
  memoryUsagePercent    Float?
  uptime                Int?
  batteryPercent        Int?
  isCharging            Boolean?
  screenBrightness      Float?
  wifiSSID              String?
  wifiRSSI              Int?
  activeProcessCount    Int?
  topProcessesByMemory  String?  // JSON string
  timestamp             DateTime
  receivedAt            DateTime @default(now())

  @@map("mac_status")
  @@index([deviceId])
  @@index([timestamp])
  @@index([hostname])
}

